@import "tailwindcss";
@import "tw-animate-css";

/* === KIBO MINIMALIST THEME === */

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-outfit);
  --font-mono: var(--font-geist-mono);

  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);

  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);

  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);

  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);

  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);

  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);

  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);

  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);

  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);

  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);

  /* Kibo Palette Definitions (Source of Truth) */
  --color-kibo-mint: #A9D9C7;
  --color-kibo-dark: #1E4332;
  --color-forest: #477365;
  --color-white: #F2F2F2;

  --color-living: #65A1C9;
  --color-living-dark: #1A3040;
  --color-living-mid: #3E6D8D;

  --color-present: #C24656;
  --color-present-dark: #421C22;
  --color-present-mid: #8C333F;

  --color-future: #614FBB;
  --color-future-dark: #231B45;
  --color-future-mid: #463988;

  --color-kibo-bg: #1B4034;
}

:root {
  --radius: 0.5rem;

  /* === COLOR HIERARCHY (STRICT) === */

  /* 1. Green Palette (Primary/Default) */
  /* Background: Using #1B4034 as per existing/user preference, or #1E4332 per docs? 
     Docs say kibo-dark is #1E4332. But current bg is #1B4034. 
     Keeping #1B4034 as 'background' to minimize disruption unless user asked to switch. 
     Actually, docs say "Backgrounds" use Green Palette. 
     Let's map correctly: */
  --background: #1B4034;
  --foreground: #F2F2F2;

  /* Components using Link/Mint */
  --card: #1E4332;
  /* Docs: .kibo-card: Dark Green background (#1E4332) */
  --card-foreground: #F2F2F2;

  --popover: #1E4332;
  --popover-foreground: #F2F2F2;

  /* Primary Action -> Mint Green */
  --primary: #A9D9C7;
  --primary-foreground: #1B4034;

  /* Secondary -> Mapped to Blue/Living for CFO context or fallback? 
     Docs say Blue is "MANUAL SELECTION ONLY" for CFO branding. 
     But we need a secondary. Let's use Forest Green or Mint dim? 
     Let's stick to Mint for consistency or define a secondary. 
     Docs didn't explicitly define 'secondary' semantic token, only palettes.
     We will use Forest Green for muted/secondary elements. */
  --secondary: #477365;
  --secondary-foreground: #F2F2F2;

  /* Muted */
  --muted: #1B4034;
  /* Slightly different from card */
  --muted-foreground: #A9D9C7;

  /* Accent -> Purple (Future) */
  --accent: #614FBB;
  --accent-foreground: #F2F2F2;

  /* Destructive -> Red (Present) */
  --destructive: #C24656;
  --destructive-foreground: #F2F2F2;

  /* Borders -> Green (#A9D9C7) */
  --border: #A9D9C7;
  --input: #1B4034;
  --ring: #A9D9C7;

  /* Chart Mappings */
  --chart-1: #A9D9C7;
  /* Total/Primary */
  --chart-2: #65A1C9;
  /* Living */
  --chart-3: #C24656;
  /* Present */
  --chart-4: #614FBB;
  /* Future */
  --chart-5: #F2F2F2;

  --sidebar: #1B4034;
  --sidebar-foreground: #F2F2F2;
  --sidebar-primary: #A9D9C7;
  --sidebar-primary-foreground: #1B4034;
  --sidebar-accent: #1E4332;
  --sidebar-accent-foreground: #F2F2F2;
  --sidebar-border: #A9D9C7;
  --sidebar-ring: #A9D9C7;
}

.dark {
  /* Enforce Critical Palette in Dark Mode too (Solid Theme) */
  --background: #1B4034;
  --foreground: #F2F2F2;
  --card: #1E4332;
  --card-foreground: #F2F2F2;
  --popover: #1E4332;
  --popover-foreground: #F2F2F2;
  --primary: #A9D9C7;
  --primary-foreground: #1B4034;
  --secondary: #477365;
  --secondary-foreground: #F2F2F2;
  --muted: #1B4034;
  --muted-foreground: #A9D9C7;
  --accent: #614FBB;
  --accent-foreground: #F2F2F2;
  --destructive: #C24656;
  --destructive-foreground: #F2F2F2;
  --border: #A9D9C7;
  --input: #1B4034;
  --ring: #A9D9C7;
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }

  html,
  body {
    @apply bg-background text-foreground;
    overscroll-behavior: none;
    -webkit-overflow-scrolling: touch;
  }
}

/* === MINIMALIST COMPONENTS (No Liquids/Glows) === */

/* Replaces .liquid-card */
.liquid-card {
  @apply bg-card border border-border rounded-xl;
  /* Removed backdrop-filter and transparency for "solid" look */
}

.liquid-card-premium {
  @apply bg-card border border-border rounded-xl;
}

/* Replaces .liquid-button */
.liquid-button {
  @apply rounded-full font-bold transition-transform active:scale-95 shadow-sm;
  /* Removed extensive shadowing/glows */
}

.text-label {
  @apply text-xs font-semibold uppercase tracking-wider text-muted-foreground;
}

.text-value {
  @apply text-4xl font-bold tracking-tight text-foreground font-sans;
  /* Switched to sans for cleaner look */
}

/* Utilities */
.safe-area-pb {
  padding-bottom: env(safe-area-inset-bottom, 0px);
}

.page-with-nav {
  padding-bottom: 5rem;
}

/* Legacy Support / Solid Overrides */
.glass-surface,
.glass-premium,
.glass-dark,
.glass-frosted {
  @apply bg-card border border-border;
  background: var(--card);
  /* Enforce solid */
  backdrop-filter: none;
}

.ambient-glow-cyan::before,
.ambient-glow-violet::after,
.ambient-glow-green::before,
.page-ambient::before,
.page-ambient::after,
.mirror-shine::after,
.highlight-shine::before,
.scanline-effect::before {
  display: none !important;
  /* Remove ambient effects */
}

/* Solid Text Gradients (Actually just solid colors now for minimalism) */
.text-gradient-cyan-green {
  @apply text-[var(--color-total)];
  background: none;
  -webkit-text-fill-color: initial;
}

.text-gradient-violet-cyan {
  @apply text-[var(--color-total)];
  background: none;
  -webkit-text-fill-color: initial;
}

.text-gradient-amber-green {
  @apply text-[var(--color-future)];
  background: none;
  -webkit-text-fill-color: initial;
}

/* Floating Action Button - Solid */
.floating-action-container {
  @apply fixed bottom-[120px] right-[24px] z-[9998] flex gap-3;
}

.floating-action-btn {
  @apply flex items-center h-14 px-6 rounded-2xl border-2 border-primary bg-background text-primary font-bold shadow-lg transition-transform active:scale-95 cursor-pointer uppercase tracking-wider text-xs;
}

.floating-action-btn:hover {
  @apply -translate-y-0.5 shadow-xl bg-primary text-primary-foreground;
}

.floating-action-btn--save {
  @apply border-primary text-primary;
}

.floating-action-btn--reset {
  @apply border-destructive text-destructive;
}

.floating-action-btn--reset:hover {
  @apply bg-destructive text-destructive-foreground;
}

/* Navigation */
.bottom-nav-fixed {
  @apply fixed bottom-0 left-0 right-0 z-[100] bg-background border-t border-border;
}

/* Loading */
.loading-spinner {
  @apply animate-spin rounded-full border-b-2 border-primary;
}

/* Remove Shimmer */
.shimmer-effect,
.shimmer-hover:hover {
  background: none;
  animation: none;
}

/* Hide scrollbar */
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;
}